<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>객체</h1>
	<h2>객체 선언 및 호출</h2>
	<P>
		중괄호{}를 사용하여 객체를 생성하고, 속성에는 모든 자료형이 올 수 있음<br>
		객체는 키 값을 사용하여 속성 식별
	</P>
	<button onclick="test1();">실행확인</button>
	<script>
		function test1() {
			var product = {
				pName:'말린 망고',
				type:'피클',
				ingredient:['mango', 'sugar'],
				원산지:'필리핀'
			};
	
			console.log(product);
			
			
			//[]를 통해서 속성 접근 : 객체명['속성명']
			console.log(product['pName']);
//			console.log(product[type]); // Uncaught ReferenceError: type is not defined at test1 -> ''안에 넣지 않으면 변수명으로 찾음
			console.log(product['type']);
			console.log(product['ingredient']);
			console.log(product['원산지']);			
			
			//.을 통해서 속성 접근 : 객체명.속성명
			console.log(product.pName);
			console.log(product.type);
			console.log(product.ingredient);
			console.log(product.원산지);
		}
	</script>
	
	<h3>객체의 키 식별자 테스트</h3>
	<p>
		객체의 키는 모든 문자열 사용<br>
		.을 이용해서 접근 시 식별할 수 없는 단어를 사용했을 경우
	</p>
	<button onclick="test2();">실행확인</button>
	<script>
		function test2(){
			var obj = {
				'key$1':'value1',
				'key_2':'value2',
				'key 3':'value3'
			};
			console.log(obj);
			console.log(obj.key$1);
			console.log(obj.key_2);
//			console.log(obj.key 3); // Uncaught SyntaxError: missing ) after argument list -> 속성명에 띄어쓰기 식별불가로 오류
			console.log(obj['key 3']); // 위와 같이 식별할 수 ㅇ벗는 단어 사용시 대괄호[''] 이용
		}
	</script>
	
	<h3>객체의 메소드 속성</h3>
	<p>객체 속성 중 함수 자료형인 속성을 메소드라고 함</p>
	<button onclick="test3()">실행확인</button>
	<script>
		function test3(){
			var fruit = {
				name1: '귤',
				name2: '사과',
				eat: function(person){
					console.log(person + "님은 " + this.name1 + "과 " + this.name2 + "를 먹는 중입니다.");
					// this키워드를 이용하여 자신의 속성에 접근(fruit. 으로 해도 접근 가능)
				}
			};
			
			fruit.eat('거니');	
		}
	</script>
	
	<h3>객체와 반복문</h3>
	<p>객체의 속성을 살펴볼때는 단순 for문은 불가능하고 for in문을 사용해야 함</p>
	<button onclick="test4();">실행확인</button>
	<script>
		function test4(){
			var movie = {
				title:'보이스',
				releaseDate:'2021-09-15',
				director:['김선', '김곡'],
				mainActor:['변요한', '김무열', '김희원', '박영훈'],
				screening:true
			};
			console.log(movie);		
			for(var i in movie){
				console.log(i);
				console.log(i + ":" + movie[i]); // key인 i를 통해 속성(값)까지 접근
			}
			// 배열에서는 for in문을 사용할 때 인덱스를 가져오지만 객체에서는 객체의 key를 가져옴
		}
	</script>

	<h2>객체 속성 추가 및 제거</h2>
	<p>
		처음 객체 생성 이후 속성을 추가하거나 삭제하는 것을
		'동적으로 속성을 추가한다' 혹은 '제거한다'라고 함
	<p>
	<button onclick="test5();">실행확인</button>
	<script>
		function test5(){
			var student = {};
			console.log(student);
			
			student.name = '거니'; // 객체 속성 추가 <- 객체 담은 참조변수명.key
			student.hobby = 'TV보기';
			student['strength'] = '프로그래밍';
			student['dream'] = '돈 많은 백수';
			student.toString = function(){ // toString메소드 역할: 객체의 대표값 반환
				var str = '';
				for(var key in student){
					if(key != 'toString'){ // toString도 key라서 같이 출력되기 때문에
						str += key + ":" + this[key] + " / ";
					}
				}
				return str;
			};
			console.log(student);
			console.log(student.toString());
			
			delete(student.hobby); // 객체 속성 삭제
			console.log(student.toString());
		}
	</script>
	
	<h2>객체 배열</h2>
	<button onclick="test6();">실행확인</button>
	<script>
		function test6(){
			var student0 = {name:'차청춘', java:90, oracle:60, jdbc:80, html5:100, css3:40, javascript:70};
			var student1 = {name:'류라라', java:36, oracle:30, jdbc:23, html5:34, css3:50, javascript:34};
			var student2 = {name:'강건강', java:65, oracle:35, jdbc:56, html5:90, css3:78, javascript:80};
			var student3 = {name:'정재주', java:64, oracle:66, jdbc:90, html5:60, css3:45, javascript:20};
			var student4 = {name:'문미미', java:54, oracle:89, jdbc:45, html5:68, css3:97, javascript:24};
			var student5 = {name:'윤예의', java:70, oracle:53, jdbc:89, html5:68, css3:23, javascript:85};
			var student6 = {name:'남나눔', java:30, oracle:26, jdbc:12, html5:23, css3:93, javascript:37};
			var student7 = {name:'박보배', java:90, oracle:64, jdbc:24, html5:97, css3:45, javascript:84};
			var student8 = {name:'송성실', java:99, oracle:67, jdbc:45, html5:34, css3:68, javascript:76};
			var student9 = {name:'도대담', java:50, oracle:25, jdbc:78, html5:70, css3:80, javascript:78};
			
			var students = []; // 객체들을 담았기때문에 객체배열
			students.push(student0);
			students.push(student1);
			students.push(student2);
			students.push(student3);
			students.push(student4);
			students.push(student5);
			students.push(student6);
			students.push(student7);
			students.push(student8);
			students.push(student9);
			console.log(students);
			
			for(var i in students) {
				students[i].getSum = function(){ // 객체 배열의 각 객체에 객체 속성 추가(메소드 속성 추가)
					var sum = 0;
					for (var key in this){
						if(key != 'name' && key != 'getSum' && key != 'getAvg') {
							sum += students[i][key]; // 객체배열의 i번째 인덱스의 객체의 속성값 가져옴(객체의 키를 통해)
						}
					}
					return sum;
				};
				
				students[i].getAvg = function() {
					return this.getSum() / 6;
				}
			}
			
			for(var i in students){
				console.log('이름: ' + students[i].name
							+ ', 총점: ' + students[i].getSum()
							+ ', 평균: ' + students[i].getAvg());
			}
		}
	</script>
	
</body>
</html>